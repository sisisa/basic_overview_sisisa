## スプレッド構文

- [スプレッド構文](#スプレッド構文)
- [公式ページURL:](#公式ページurl)
  - [全体のイメージ](#全体のイメージ)
  - [基本的な使い方](#基本的な使い方)
  - [Object.assign() との比較](#objectassign-との比較)

## 公式ページURL:
https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Operators/Spread_syntax

### 全体のイメージ
スプレッド構文は、配列やオブジェクトの「中身をバラして使う」ための記法

### 基本的な使い方
‐ 配列での展開
配列の中身を一つずつ取り出して、新しい配列や関数の引数に渡せます

```JS
const fruits = ["apple", "banana", "orange"];

// 配列を展開して別の配列に入れる
const allFruits = ["grape", ...fruits, "melon"];
console.log(allFruits); 
// ["grape", "apple", "banana", "orange", "melon"]

// 関数の引数として展開
function printFruits(a, b, c) {
  console.log(a, b, c);
}
printFruits(...fruits);
// apple banana orange

```
- apply()メソッドの代わりに使う
```JS
const numbers = [3, 7, 1];

// apply()メソッドの書き方
console.log(Math.max.apply(null, numbers)); // 7

// スプレッド構文での書き方
console.log(Math.max(...numbers)); // 7
```

### Object.assign() との比較

オブジェクトの変更→Object.assign()は使用出来る。スプレッド構文は使用出来ない。
```JS
const obj1 = { foo: "bar", x: 42 };
Object.assign(obj1, { x: 1337 });
console.log(obj1); // { foo: "bar", x: 1337 }
```

Object.assign() →対象とするオブジェクトの設定（変更）を開始する。スプレッド構文では開始しない。

```JS
const objectAssign = Object.assign(
  {
    set foo(val) {
      console.log(val);
    },
  },
  { foo: 1 },
);
// "1" とログ出力。objectAssign.foo は元のセッター

const spread = {
  set foo(val) {
    console.log(val);
  },
  ...{ foo: 1 },
};
// 何もログ出力されない。spread.foo は 1
```

単一の展開で Object.assign() 関数を単純に再実装することはできない。
```JS
const obj1 = { foo: "bar", x: 42 };
const obj2 = { foo: "baz", y: 13 };
const merge = (...objects) => ({ ...objects });

const mergedObj1 = merge(obj1, obj2);
// { 0: { foo: 'bar', x: 42 }, 1: { foo: 'baz', y: 13 } }

const mergedObj2 = merge({}, obj1, obj2);
// { 0: {}, 1: { foo: 'bar', x: 42 }, 2: { foo: 'baz', y: 13 } }
```

```JS
const obj1 = { foo: "bar", x: 42 };
const obj2 = { foo: "baz", y: 13 };
const merge = (...objects) =>
  objects.reduce((acc, cur) => ({ ...acc, ...cur }));

const mergedObj1 = merge(obj1, obj2);
// { foo: 'baz', x: 42, y: 13 }
```